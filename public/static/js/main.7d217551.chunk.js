(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},32:function(e,t,a){e.exports=a(73)},41:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n,s=a(0),c=a.n(s),r=a(25),i=a.n(r),o=a(12),l=a(2),u=a(27),d=a(28),p=(a(41),a(29)),m=a(10),k={tasks:[],isLoading:!1},f=Object(l.combineReducers)({taskReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALL_TASKS_REQUEST":return Object(m.a)({},e,{isLoading:!0});case"ALL_TASKS_SUCCESS":return{tasks:t.tasks,isLoading:!1};case"ALL_TASKS_FAILURE":return Object(m.a)({},e,{isLoading:!1});case"ADD_TASK":var a=Object(p.a)(e.tasks);return a.push(t.task),Object(m.a)({},e,{tasks:a});case"UPDATE_TASK":var n=e.tasks.map(function(e){return e._id===t.task._id?t.task:e});return Object(m.a)({},e,{tasks:n});case"DELETE_TASK":return Object(m.a)({},e,{tasks:e.tasks.filter(function(e){return e._id!==t.task._id})});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{active:"all"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_FILTER":return{active:t.filter};default:return e}}}),h=a(4),v=a(5),E=a(7),g=a(6),b=a(8),T=a(11),S=a.n(T),C=(a(62),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).state={value:""},a.changeHandler=function(e){a.setState({value:e.target.value})},a.submitHandler=function(e){e.preventDefault();var t=a.state.value;""!==t&&(a.props.addTask(t),a.setState({value:""}))},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"task-form"},c.a.createElement("form",{onSubmit:this.submitHandler},c.a.createElement("input",{type:"text",className:"input-text",onChange:this.changeHandler,value:this.state.value,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),c.a.createElement("a",{href:"/",className:"form-submit",onClick:this.submitHandler},"+")))}}]),t}(s.Component)),_=a(30),A=(a(64),Object(_.a)(["all","current","completed"],3)),N=A[0],O=A[1],j=A[2],L=function(e){var t=e.activeFilter,a=e.changeFilter,n=function(e){return function(t){t.preventDefault(),a(e)}},s=function(e,t){return e===t?"active":""};return c.a.createElement("div",{className:"filters"},c.a.createElement("a",{href:"/",className:"filter-link ".concat(s(t,N)),onClick:n(N)},"\u0412\u0441\u0435"),c.a.createElement("a",{href:"/",className:"filter-link ".concat(s(t,O)),onClick:n(O)},"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"),c.a.createElement("a",{href:"/",className:"filter-link ".concat(s(t,j)),onClick:n(j)},"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435"))},y=a(31),x=(a(14),function(e){var t=e.text,a=e.isCompleted,n=e.onEdit,s=e.onDelete;return c.a.createElement("div",{className:"task-card ".concat(a?"completed":"")},c.a.createElement("a",{href:"/",className:"task-edit",title:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c",onClick:n},"\u270e"),c.a.createElement("a",{href:"/",className:"task-delete",title:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c",onClick:s},"\u2716"),c.a.createElement("span",{className:"task-text"},t))}),D=function(e){var t=e.text,a=e.onSave,n=e.onCancel;return c.a.createElement("div",{className:"task-card edited"},c.a.createElement("form",{onSubmit:a},c.a.createElement("input",{type:"text",className:"task-text",name:"changedValue",autoFocus:"true",value:t}),c.a.createElement("a",{href:"/",className:"task-cancel",title:"\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:n},"\u2716"),c.a.createElement("a",{href:"/",className:"task-save",title:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:a},"OK")))},w=(a(67),function(e){var t=e.id,a=e.isCompleted,n=e.onToggle;return c.a.createElement("div",{className:"task-checkbox"},c.a.createElement("input",{type:"checkbox",id:"check_".concat(t),checked:a,onChange:n}),c.a.createElement("label",{htmlFor:"check_".concat(t),title:"\u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c",className:"proxy-checkbox ".concat(a?"checked":"")}))}),F=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(E.a)(this,Object(g.a)(t).call(this,e))).toggleEdit=function(e){e.preventDefault(),a.setState(function(e){return{isEdited:!e.isEdited}})},a.toggleHandler=function(){if(!a.state.isEdited){var e=a.props.task._id,t=a.props.task.text,n=!a.props.task.isCompleted;a.props.updateTask(e,{text:t,isCompleted:n})}},a.submitHandler=function(e){e.preventDefault();var t=a.props.task._id,n=e.target.parentNode.querySelector(".task-text").value,s=a.props.task.isCompleted;a.props.updateTask(t,{text:n,isCompleted:s}),a.toggleEdit(e)},a.deleteHandler=function(e){e.preventDefault(),a.props.deleteTask(a.props.task._id)},a.state={isEdited:!1},a}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state.isEdited;return c.a.createElement("div",{className:"task-item"},c.a.createElement(w,{id:this.props.task._id,isCompleted:this.props.task.isCompleted,onToggle:this.toggleHandler}),e?c.a.createElement(D,{text:this.props.task.text,onCancel:this.toggleEdit,onSave:this.submitHandler}):c.a.createElement(x,{text:this.props.task.text,isCompleted:this.props.task.isCompleted,onEdit:this.toggleEdit,onDelete:this.deleteHandler}))}}]),t}(s.Component),H=(a(69),n=function(e){var t=e.tasks,a=e.updateTask,n=e.deleteTask;return 0===t.length?c.a.createElement("div",{className:"task-list"},c.a.createElement("p",{className:"message"},"[ \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442 ]")):c.a.createElement("div",{className:"task-list"},t.map(function(e){return c.a.createElement(F,{key:e._id,task:e,updateTask:a,deleteTask:n})}))},function(e){var t=e.isLoading,a=Object(y.a)(e,["isLoading"]);return t?c.a.createElement("div",{className:"task-list"},c.a.createElement("p",{className:"loader"},"[ \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430... ]")):c.a.createElement(n,a)}),K=(a(71),function(e){function t(){return Object(h.a)(this,t),Object(E.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.getAllTasks()}},{key:"render",value:function(){return c.a.createElement("div",{className:"app"},c.a.createElement("header",null,c.a.createElement("h2",{className:"heading"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447")),c.a.createElement("main",{className:"main"},c.a.createElement(C,{addTask:this.props.addTask}),c.a.createElement(L,{activeFilter:this.props.activeFilter,changeFilter:this.props.changeFilter}),c.a.createElement(H,{isLoading:this.props.isLoading,tasks:this.props.tasks,updateTask:this.props.updateTask,deleteTask:this.props.deleteTask})),c.a.createElement("footer",null,c.a.createElement("p",null,"ToDo App"," ",c.a.createElement("a",{href:"https://github.com/ZackFox/react-todo"},"(GitHub)")," coding by ZackFox")))}}]),t}(s.Component)),R=Object(o.b)(function(e){return{tasks:(t=e.taskReducer.tasks,a=e.filter.active,"all"===a?t:"current"===a?t.filter(function(e){return!e.isCompleted}):"completed"===a?t.filter(function(e){return e.isCompleted}):void 0),isLoading:e.taskReducer.isLoading,activeFilter:e.filter.active};var t,a},{changeFilter:function(e){return function(t){t({type:"CHANGE_FILTER",filter:e})}},getAllTasks:function(){return function(e){e({type:"ALL_TASKS_REQUEST"}),S.a.get("/api/v1/tasks").then(function(t){var a=t.data;e({type:"ALL_TASKS_SUCCESS",tasks:a.tasks})}).catch(function(t){return e({type:"ALL_TASKS_FAILURE"})})}},addTask:function(e){return function(t){S.a.post("/api/v1/tasks",{text:e}).then(function(e){var a=e.data;t({type:"ADD_TASK",task:a.task})}).catch(function(e){return console.log(e)})}},updateTask:function(e,t){return function(a){S.a.put("/api/v1/tasks/".concat(e),t).then(function(e){var t=e.data;a({type:"UPDATE_TASK",task:t.task})}).catch(function(e){return console.log(e)})}},deleteTask:function(e){return function(t){S.a.delete("/api/v1/tasks/".concat(e)).then(function(e){var a=e.data;t({type:"DELETE_TASK",task:a.task})}).catch(function(e){return console.log(e)})}}})(K);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var U=Object(l.createStore)(f,Object(u.composeWithDevTools)(Object(l.applyMiddleware)(d.a)));i.a.render(c.a.createElement(o.a,{store:U},c.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.7d217551.chunk.js.map