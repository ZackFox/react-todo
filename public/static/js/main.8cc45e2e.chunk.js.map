{"version":3,"sources":["helpers/withLoading.js","reducers/tasks.js","reducers/index.js","reducers/filter.js","components/TaskForm/TaskForm.js","components/Filters/Filters.js","components/TaskItem/TaskCard.js","components/TaskItem/EditedTaskCard.js","components/TaskItem/TaskCheckbox.js","components/TaskItem/TaskItem.js","components/TasksList/TasksList.js","containers/App/App.js","helpers/getFilteredTasks.js","actions/taskActions.js","index.js"],"names":["Component","initialState","tasks","isLoading","combineReducers","taskReducer","state","arguments","length","undefined","action","type","Object","objectSpread","updated","toConsumableArray","push","task","filtered","map","t","_id","filter","active","TaskForm","value","changeHandler","e","_this","setState","target","submitHandler","preventDefault","text","props","addTask","react_default","a","createElement","className","onSubmit","this","onChange","placeholder","href","onClick","ALL","CURRENT","COMPLETED","TaskFilter","_ref","activeFilter","changeFilter","filterHandler","isActive","concat","TaskCard","isCompleted","onEdit","onDelete","title","EditedTaskCard","onSave","onCancel","autoFocus","autoComplete","defaultValue","TaskCheckbox","id","onToggle","checked","htmlFor","TaskItem","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggleEdit","isEdited","toggleHandler","updateTask","parentNode","querySelector","deleteHandler","deleteTask","components_TaskItem_TaskCheckbox","TaskItem_EditedTaskCard","TaskItem_TaskCard","withLoading","components_TaskItem_TaskItem","key","objectWithoutProperties","App","getAllTasks","components_TaskForm_TaskForm","Filters_Filters","TasksList_TasksList","connect","dispatch","axios","get","then","data","catch","err","post","_ref2","console","log","put","_ref3","delete","_ref4","store","createStore","reducers","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","es","containers_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.8cc45e2e.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport default Component => {\r\n  return ({ isLoading, ...props }) =>\r\n    isLoading ? (\r\n      <div className=\"task-list\">\r\n        <p className=\"loader\">[ загрузка... ]</p>\r\n      </div>\r\n    ) : (\r\n      <Component {...props} />\r\n    );\r\n};\r\n","export const ALL_TASKS_REQUEST = \"ALL_TASKS_REQUEST\";\r\nexport const ALL_TASKS_SUCCESS = \"ALL_TASKS_SUCCESS\";\r\nexport const ALL_TASKS_FAILURE = \"ALL_TASKS_FAILURE\";\r\nexport const ADD_TASK = \"ADD_TASK\";\r\nexport const UPDATE_TASK = \"UPDATE_TASK\";\r\nexport const DELETE_TASK = \"DELETE_TASK\";\r\n\r\nconst initialState = {\r\n  tasks: [],\r\n  isLoading: false\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ALL_TASKS_REQUEST: {\r\n      return { ...state, isLoading: true };\r\n    }\r\n    case ALL_TASKS_SUCCESS: {\r\n      return { tasks: action.tasks, isLoading: false };\r\n    }\r\n    case ALL_TASKS_FAILURE: {\r\n      return { ...state, isLoading: false };\r\n    }\r\n    case ADD_TASK: {\r\n      const updated = [...state.tasks];\r\n      updated.push(action.task);\r\n      return { ...state, tasks: updated };\r\n    }\r\n    case UPDATE_TASK: {\r\n      const filtered = state.tasks.map(t => {\r\n        if (t._id === action.task._id) {\r\n          return action.task;\r\n        }\r\n        return t;\r\n      });\r\n      return { ...state, tasks: filtered };\r\n    }\r\n    case DELETE_TASK: {\r\n      return {\r\n        ...state,\r\n        tasks: state.tasks.filter(t => t._id !== action.task._id)\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport tasks from \"./tasks\";\r\nimport filter from \"./filter\";\r\n\r\nexport default combineReducers({ taskReducer: tasks, filter });\r\n","const CHANGE_FILTER = \"CHANGE_FILTER\";\r\n\r\nexport const filters = [\"all\", \"current\", \"completed\"];\r\n\r\nexport const changeFilter = filter => dispatch => {\r\n  dispatch({ type: CHANGE_FILTER, filter });\r\n};\r\n\r\nexport default (state = { active: \"all\" }, action) => {\r\n  switch (action.type) {\r\n    case CHANGE_FILTER: {\r\n      return { active: action.filter };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./TaskForm.css\";\r\n\r\nclass TaskForm extends Component {\r\n  state = { value: \"\" };\r\n\r\n  changeHandler = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    const text = this.state.value;\r\n    if (text === \"\") return;\r\n\r\n    this.props.addTask(text);\r\n    this.setState({ value: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"task-form\">\r\n        <form onSubmit={this.submitHandler}>\r\n          <input\r\n            type=\"text\"\r\n            className=\"input-text\"\r\n            onChange={this.changeHandler}\r\n            value={this.state.value}\r\n            placeholder=\"Добавить задачу\"\r\n          />\r\n\r\n          <a href=\"/\" className=\"form-submit\" onClick={this.submitHandler}>\r\n            +\r\n          </a>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTaskForm.propTypes = {\r\n  addTask: PropTypes.func.isRequired\r\n};\r\n\r\nexport default TaskForm;\r\n","import React from \"react\";\r\nimport { filters } from \"../../reducers/filter\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./Filters.css\";\r\n\r\nconst [ALL, CURRENT, COMPLETED] = filters;\r\n\r\nconst TaskFilter = ({ activeFilter, changeFilter }) => {\r\n  const filterHandler = filter => e => {\r\n    e.preventDefault();\r\n    changeFilter(filter);\r\n  };\r\n\r\n  const isActive = (activeFilter, filter) => {\r\n    return activeFilter === filter ? \"active\" : \"\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"filters\">\r\n      <a\r\n        href=\"/\"\r\n        className={`filter-link ${isActive(activeFilter, ALL)}`}\r\n        onClick={filterHandler(ALL)}\r\n      >\r\n        Все\r\n      </a>\r\n      <a\r\n        href=\"/\"\r\n        className={`filter-link ${isActive(activeFilter, CURRENT)}`}\r\n        onClick={filterHandler(CURRENT)}\r\n      >\r\n        Активные\r\n      </a>\r\n      <a\r\n        href=\"/\"\r\n        className={`filter-link ${isActive(activeFilter, COMPLETED)}`}\r\n        onClick={filterHandler(COMPLETED)}\r\n      >\r\n        Выполненные\r\n      </a>\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskFilter.propTypes = {\r\n  activeFilter: PropTypes.string.isRequired,\r\n  changeFilter: PropTypes.func.isRequired\r\n};\r\n\r\nexport default TaskFilter;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./TaskItem.css\";\r\n\r\nconst TaskCard = ({ text, isCompleted, onEdit, onDelete }) => {\r\n  return (\r\n    <div className={`task-card ${isCompleted ? \"completed\" : \"\"}`}>\r\n      <a href=\"/\" className=\"task-edit\" title=\"изменить\" onClick={onEdit}>\r\n        &#x270E;\r\n      </a>\r\n      <a href=\"/\" className=\"task-delete\" title=\"удалить\" onClick={onDelete}>\r\n        &#x2716;\r\n      </a>\r\n      <span className=\"task-text\">{text}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskCard.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n  isCompleted: PropTypes.bool.isRequired,\r\n  onEdit: PropTypes.func.isRequired,\r\n  onDelete: PropTypes.func.isRequired\r\n};\r\n\r\nexport default TaskCard;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./TaskItem.css\";\r\n\r\nconst EditedTaskCard = ({ text, onSave, onCancel }) => {\r\n  return (\r\n    <div className=\"task-card edited\">\r\n      <form onSubmit={onSave}>\r\n        <input\r\n          type=\"text\"\r\n          className=\"task-text\"\r\n          autoFocus\r\n          autoComplete=\"off\"\r\n          defaultValue={text}\r\n        />\r\n        <a href=\"/\" className=\"task-cancel\" title=\"отменить\" onClick={onCancel}>\r\n          &#x2716;\r\n        </a>\r\n        <a href=\"/\" className=\"task-save\" title=\"сохранить\" onClick={onSave}>\r\n          OK\r\n        </a>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nEditedTaskCard.propTypes = {\r\n  test: PropTypes.string.isRequired,\r\n  onSave: PropTypes.func.isRequired,\r\n  onCancel: PropTypes.func.isRequired\r\n};\r\n\r\nexport default EditedTaskCard;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./TaskCheckbox.css\";\r\n\r\nconst TaskCheckbox = ({ id, isCompleted, onToggle }) => {\r\n  return (\r\n    <div className=\"task-checkbox\">\r\n      <input\r\n        type=\"checkbox\"\r\n        id={`check_${id}`}\r\n        checked={isCompleted}\r\n        onChange={onToggle}\r\n      />\r\n      <label\r\n        htmlFor={`check_${id}`}\r\n        title=\"отметить\"\r\n        className={`proxy-checkbox ${isCompleted ? \"checked\" : \"\"}`}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskCheckbox.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  isCompleted: PropTypes.bool.isRequired,\r\n  onToggle: PropTypes.func.isRequired\r\n};\r\n\r\nexport default TaskCheckbox;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport \"./TaskItem.css\";\r\n\r\nimport TaskCard from \"./TaskCard\";\r\nimport EditedTaskCard from \"./EditedTaskCard\";\r\nimport TaskCheckbox from \"./TaskCheckbox\";\r\n\r\nclass TaskItem extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isEdited: false\r\n    };\r\n  }\r\n\r\n  toggleEdit = e => {\r\n    e.preventDefault();\r\n    this.setState(state => ({ isEdited: !state.isEdited }));\r\n  };\r\n\r\n  toggleHandler = () => {\r\n    if (!this.state.isEdited) {\r\n      const id = this.props.task._id;\r\n      const text = this.props.task.text;\r\n      const isCompleted = !this.props.task.isCompleted;\r\n      this.props.updateTask(id, { text, isCompleted });\r\n    }\r\n  };\r\n\r\n  submitHandler = e => {\r\n    e.preventDefault();\r\n    const id = this.props.task._id;\r\n    const text = e.target.parentNode.querySelector(\".task-text\").value;\r\n    const isCompleted = this.props.task.isCompleted;\r\n    this.props.updateTask(id, { text, isCompleted });\r\n    this.toggleEdit(e);\r\n  };\r\n\r\n  deleteHandler = e => {\r\n    e.preventDefault();\r\n    this.props.deleteTask(this.props.task._id);\r\n  };\r\n\r\n  render() {\r\n    const { isEdited } = this.state;\r\n\r\n    return (\r\n      <div className={`task-item`}>\r\n        <TaskCheckbox\r\n          id={this.props.task._id}\r\n          isCompleted={this.props.task.isCompleted}\r\n          onToggle={this.toggleHandler}\r\n        />\r\n\r\n        {!isEdited ? (\r\n          <TaskCard\r\n            text={this.props.task.text}\r\n            isCompleted={this.props.task.isCompleted}\r\n            onEdit={this.toggleEdit}\r\n            onDelete={this.deleteHandler}\r\n          />\r\n        ) : (\r\n          <EditedTaskCard\r\n            text={this.props.task.text}\r\n            onCancel={this.toggleEdit}\r\n            onSave={this.submitHandler}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTaskItem.propTypes = {\r\n  task: PropTypes.shape({}).isRequired,\r\n  updateTask: PropTypes.func.isRequired,\r\n  deleteTask: PropTypes.func.isRequired\r\n};\r\n\r\nexport default TaskItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport withLoading from \"../../helpers/withLoading\";\r\nimport TaskItem from \"../TaskItem/TaskItem\";\r\n\r\nimport \"./TasksList.css\";\r\n\r\nconst TaskList = ({ tasks, updateTask, deleteTask }) => {\r\n  if (tasks.length === 0) {\r\n    return (\r\n      <div className=\"task-list\">\r\n        <p className=\"message\">[ список пуст ]</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"task-list\">\r\n      {tasks.map(task => (\r\n        <TaskItem\r\n          key={task._id}\r\n          task={task}\r\n          updateTask={updateTask}\r\n          deleteTask={deleteTask}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nTaskList.propTypes = {\r\n  tasks: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\r\n  updateTask: PropTypes.func.isRequired,\r\n  deleteTask: PropTypes.func.isRequired\r\n};\r\n\r\nexport default withLoading(TaskList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n  getAllTasks,\r\n  addTask,\r\n  updateTask,\r\n  deleteTask\r\n} from \"../../actions/taskActions\";\r\n\r\nimport { changeFilter } from \"../../reducers/filter\";\r\nimport getFilteredTasks from \"../../helpers/getFilteredTasks\";\r\n\r\nimport TaskForm from \"../../components/TaskForm/TaskForm\";\r\nimport Filters from \"../../components/Filters/Filters\";\r\nimport TasksList from \"../../components/TasksList/TasksList\";\r\n\r\nimport \"./App.css\";\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.getAllTasks();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <header>\r\n          <h2 className=\"heading\">Список задач</h2>\r\n        </header>\r\n        <main className=\"main\">\r\n          <TaskForm addTask={this.props.addTask} />\r\n          <Filters\r\n            activeFilter={this.props.activeFilter}\r\n            changeFilter={this.props.changeFilter}\r\n          />\r\n          <TasksList\r\n            isLoading={this.props.isLoading}\r\n            tasks={this.props.tasks}\r\n            updateTask={this.props.updateTask}\r\n            deleteTask={this.props.deleteTask}\r\n          />\r\n        </main>\r\n        <footer>\r\n          <p>\r\n            ToDo App{\" \"}\r\n            <a href=\"https://github.com/ZackFox/react-todo\">(GitHub)</a> coding\r\n            by ZackFox\r\n          </p>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    tasks: getFilteredTasks(state.taskReducer.tasks, state.filter.active),\r\n    isLoading: state.taskReducer.isLoading,\r\n    activeFilter: state.filter.active\r\n  }),\r\n  { changeFilter, getAllTasks, addTask, updateTask, deleteTask }\r\n)(App);\r\n","export default (tasks, activeFilter) => {\r\n  if (activeFilter === \"all\") {\r\n    return tasks;\r\n  } else if (activeFilter === \"current\") {\r\n    return tasks.filter(t => !t.isCompleted);\r\n  } else if (activeFilter === \"completed\") {\r\n    return tasks.filter(t => t.isCompleted);\r\n  }\r\n};\r\n","import {\r\n  ALL_TASKS_REQUEST,\r\n  ALL_TASKS_SUCCESS,\r\n  ALL_TASKS_FAILURE,\r\n  ADD_TASK,\r\n  UPDATE_TASK,\r\n  DELETE_TASK\r\n} from \"../reducers/tasks\";\r\nimport axios from \"axios\";\r\n\r\nexport const getAllTasks = () => dispatch => {\r\n  dispatch({ type: ALL_TASKS_REQUEST });\r\n  axios\r\n    .get(\"/api/v1/tasks\")\r\n    .then(({ data }) => {\r\n      dispatch({ type: ALL_TASKS_SUCCESS, tasks: data.tasks });\r\n    })\r\n    .catch(err => dispatch({ type: ALL_TASKS_FAILURE }));\r\n};\r\n\r\nexport const addTask = text => dispatch => {\r\n  axios\r\n    .post(\"/api/v1/tasks\", { text })\r\n    .then(({ data }) => {\r\n      dispatch({ type: ADD_TASK, task: data.task });\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateTask = (id, task) => dispatch => {\r\n  axios\r\n    .put(`/api/v1/tasks/${id}`, task)\r\n    .then(({ data }) => {\r\n      dispatch({ type: UPDATE_TASK, task: data.task });\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const deleteTask = id => dispatch => {\r\n  axios\r\n    .delete(`/api/v1/tasks/${id}`)\r\n    .then(({ data }) => {\r\n      dispatch({ type: DELETE_TASK, task: data.task });\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport \"./index.css\";\r\nimport reducers from \"./reducers\";\r\nimport App from \"./containers/App/App\";\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}