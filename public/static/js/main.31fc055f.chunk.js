(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){},35:function(e,t,a){e.exports=a(78)},65:function(e,t,a){},67:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},74:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(29),s=a.n(r),i=a(16),u=a(7),l=a(34),o=a(31),d=a(4),k=a.n(d),p=a(5),f=a(33),m=a(8),v="ALL_TASKS_REQUEST",E="ALL_TASKS_SUCCESS",b="ALL_TASKS_FAILURE",h="ADD_TASK_REQUEST",T="ADD_TASK_SUCCESS",x="ADD_TASK_FAILURE",O="UPDATE_TASK_REQUEST",j="UPDATE_TASK_SUCCESS",S="DELETE_TASK_REQUEST",_="DELETE_TASK_SUCCESS",g={tasks:[],isLoading:!0},C=a(13),N=a.n(C),w=k.a.mark(I),A=k.a.mark(Q),y=k.a.mark(G),L=k.a.mark(H),D=k.a.mark(J),F=k.a.mark(P),R=k.a.mark(Z),U=k.a.mark(B),K=k.a.mark(M);function I(){var e,t;return k.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(p.b)(N.a.get,"/api/v1/tasks");case 3:return e=a.sent,t=e.data,a.next=7,Object(p.c)({type:E,tasks:t.tasks});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(p.c)({type:b,err:a.t0});case 13:case"end":return a.stop()}},w,this,[[0,9]])}function Q(e){var t,a,n;return k.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.text,c.prev=1,c.next=4,Object(p.b)(N.a.post,"/api/v1/tasks",{text:t});case 4:return a=c.sent,n=a.data,c.next=8,Object(p.c)({type:T,task:n.task});case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(1),c.next=14,Object(p.c)({type:x,err:c.t0});case 14:case"end":return c.stop()}},A,this,[[1,10]])}function G(e){var t,a;return k.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.prevTask,a=e.nextTask,n.prev=1,n.next=4,Object(p.c)({type:j,task:a});case 4:return n.next=6,Object(p.b)(N.a.put,"/api/v1/tasks/".concat(a._id),a);case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(p.c)({type:j,task:t});case 12:case"end":return n.stop()}},y,this,[[1,8]])}function H(e){var t;return k.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.task,a.prev=1,a.next=4,Object(p.c)({type:_,task:t});case 4:return a.next=6,Object(p.b)(N.a.delete,"/api/v1/tasks/".concat(t._id));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(1),a.next=12,Object(p.c)({type:T,task:t});case 12:case"end":return a.stop()}},L,this,[[1,8]])}function J(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.d)(v,I);case 2:case"end":return e.stop()}},D,this)}function P(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.d)(h,Q);case 2:case"end":return e.stop()}},F,this)}function Z(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.d)(O,G);case 2:case"end":return e.stop()}},R,this)}function B(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.d)(S,H);case 2:case"end":return e.stop()}},U,this)}function M(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)([J(),P(),Z(),B()]);case 2:case"end":return e.stop()}},K,this)}var W,q=Object(u.combineReducers)({taskReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(m.a)({},e,{isLoading:!0});case E:return{tasks:t.tasks,isLoading:!1};case b:return Object(m.a)({},e,{isLoading:!1});case T:return Object(m.a)({},e,{tasks:[].concat(Object(f.a)(e.tasks),[t.task])});case j:var a=e.tasks.map(function(e){return e._id===t.task._id?t.task:e});return Object(m.a)({},e,{tasks:a});case _:return Object(m.a)({},e,{tasks:e.tasks.filter(function(e){return e._id!==t.task._id})});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{active:"all"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_FILTER":return{active:t.filter};default:return e}}}),z=a(9),V=(a(65),function(e){var t=e.addTask,a=Object(n.useState)(""),r=Object(z.a)(a,2),s=r[0],i=r[1],u=function(e){e.preventDefault(),""!==s&&(t(s),i(""))};return c.a.createElement("div",{className:"task-form"},c.a.createElement("form",{onSubmit:u},c.a.createElement("input",{type:"text",className:"input-text",onChange:function(e){i(e.target.value)},value:s,placeholder:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),c.a.createElement("a",{href:"/",className:"form-submit",onClick:u},"+")))}),X=(a(67),Object(z.a)(["all","current","completed"],3)),Y=X[0],$=X[1],ee=X[2],te=function(e){var t=e.activeFilter,a=e.changeFilter,n=function(e){return function(t){t.preventDefault(),a(e)}},r=function(e,t){return e===t?"active":""};return c.a.createElement("div",{className:"filters"},c.a.createElement("a",{href:"/",className:"filter-link ".concat(r(t,Y)),onClick:n(Y)},"\u0412\u0441\u0435"),c.a.createElement("a",{href:"/",className:"filter-link ".concat(r(t,$)),onClick:n($)},"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"),c.a.createElement("a",{href:"/",className:"filter-link ".concat(r(t,ee)),onClick:n(ee)},"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0435"))},ae=a(32),ne=(a(18),function(e){var t=e.task,a=e.setEdited,n=e.deleteTask;return c.a.createElement("div",{className:"task-card ".concat(t.isCompleted?"completed":"")},c.a.createElement("a",{href:"/",className:"task-edit",title:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(e){e.preventDefault(),a(!0)}},"\u270e"),c.a.createElement("a",{href:"/",className:"task-delete",title:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(e){e.preventDefault(),n(t)}},"\u2716"),c.a.createElement("span",{className:"task-text"},t.text))}),ce=function(e){var t=e.task,a=e.setEdited,r=e.updateTask,s=e.deleteTask,i=Object(n.useState)(t.text),u=Object(z.a)(i,2),l=u[0],o=u[1],d=function(e){if(e.preventDefault(),""===l)s(t);else{var n=Object(m.a)({},t,{text:l});r(t,n)}a(!1)};return c.a.createElement("div",{className:"task-card edited"},c.a.createElement("form",{onSubmit:d},c.a.createElement("input",{type:"text",className:"task-text",autoFocus:!0,autoComplete:"off",onChange:function(e){o(e.target.value)},value:l}),c.a.createElement("a",{href:"/",className:"task-cancel",title:"\u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onClick:function(e){e.preventDefault(),o(t.text),a(!1)}},"\u2716"),c.a.createElement("a",{href:"/",className:"task-save",title:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:d},"OK")))},re=(a(70),function(e){var t=e.task,a=e.isEdited,n=e.updateTask;return c.a.createElement("div",{className:"task-checkbox"},c.a.createElement("input",{type:"checkbox",id:"check_".concat(t._id),checked:t.isCompleted,onChange:function(){if(!a){var e=Object(m.a)({},t,{isCompleted:!t.isCompleted});n(t,e)}}}),c.a.createElement("label",{htmlFor:"check_".concat(t._id),title:"\u043e\u0442\u043c\u0435\u0442\u0438\u0442\u044c",className:"proxy-checkbox ".concat(t.isCompleted?"checked":"")}))}),se=function(e){var t=e.task,a=e.updateTask,r=e.deleteTask,s=Object(n.useState)(!1),i=Object(z.a)(s,2),u=i[0],l=i[1];return c.a.createElement("div",{className:"task-item"},c.a.createElement(re,{task:t,isEdited:u,updateTask:a}),u?c.a.createElement(ce,{task:t,setEdited:l,updateTask:a,deleteTask:r}):c.a.createElement(ne,{task:t,setEdited:l,deleteTask:r}))},ie=(a(72),W=function(e){var t=e.tasks,a=e.updateTask,n=e.deleteTask;return 0===t.length?c.a.createElement("div",{className:"task-list"},c.a.createElement("p",{className:"message"},"[ \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442 ]")):c.a.createElement("div",{className:"task-list"},t.map(function(e){return c.a.createElement(se,{key:e._id,task:e,updateTask:a,deleteTask:n})}))},function(e){var t=e.isLoading,a=Object(ae.a)(e,["isLoading"]);return t?c.a.createElement("div",{className:"task-list"},c.a.createElement("p",{className:"loader"},"[ \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430... ]")):c.a.createElement(W,a)}),ue=(a(74),Object(i.b)(function(e){return{tasks:(t=e.taskReducer.tasks,a=e.filter.active,"all"===a?t:"current"===a?t.filter(function(e){return!e.isCompleted}):"completed"===a?t.filter(function(e){return e.isCompleted}):void 0),isLoading:e.taskReducer.isLoading,activeFilter:e.filter.active};var t,a},{getAllTasks:function(){return{type:v}},addTask:function(e){return{type:h,text:e}},updateTask:function(e,t){return{type:O,prevTask:e,nextTask:t}},deleteTask:function(e){return{type:S,task:e}},changeFilter:function(e){return{type:"CHANGE_FILTER",filter:e}}})(function(e){return Object(n.useEffect)(function(){e.getAllTasks()},[]),c.a.createElement("div",{className:"app"},c.a.createElement("header",null,c.a.createElement("h2",{className:"heading"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447")),c.a.createElement("main",{className:"main"},c.a.createElement(V,{addTask:e.addTask}),c.a.createElement(te,{activeFilter:e.activeFilter,changeFilter:e.changeFilter}),c.a.createElement(ie,{isLoading:e.isLoading,tasks:e.tasks,updateTask:e.updateTask,deleteTask:e.deleteTask})),c.a.createElement("footer",null,c.a.createElement("p",null,"ToDo App ",c.a.createElement("a",{href:"https://github.com/ZackFox/react-todo"},"(GitHub)")," ","coding by ZackFox")))})),le=(a(76),Object(l.a)()),oe=Object(u.createStore)(q,Object(o.composeWithDevTools)(Object(u.applyMiddleware)(le)));le.run(M),s.a.render(c.a.createElement(i.a,{store:oe},c.a.createElement(ue,null)),document.getElementById("root"))}},[[35,2,1]]]);
//# sourceMappingURL=main.31fc055f.chunk.js.map